<!DOCTYPE html>
<%
	let htmlclasses = "";
	if (theme.enable_amoled_dark){
		htmlclasses += "amoled-dark ";
	}
	if (theme.card_shadow == 'big'){
		htmlclasses += 'use-big-shadow ';
	}
	if (theme.font == 'serif'){
		htmlclasses += 'use-serif ';
	}
	if (theme.font == 'lxgw-wk'){
		htmlclasses += 'use-lxgw_wk ';
	}
	if (theme.blogstyle == 'rev'){
		htmlclasses += 'double-column-reverse ';
	}if (theme.blogstyle == 'single'){
		htmlclasses += 'single-column ';
	}if (theme.blogstyle == 'triple'){
		htmlclasses += 'triple-column ';
	}if (theme.banner_format == 'banner-as-cover'){
		htmlclasses += 'banner-as-cover ';
	}if (theme.banner_format == 'banner-mini'){
		htmlclasses += 'banner-mini ';
	}if (theme.banner_format == 'no-banner'){
		htmlclasses += 'no-banner ';
	}
	htmlclasses += 'article-header-style-' + theme.article_header_style;
%>

<html class="<%= htmlclasses %>">
<head>
	<%
		let title = config.title;
		if (page.title){
			page_title = page.title.replace(/<\/?[^>]*>/g, '');
			title = page_title.replace(/&npsp;/ig, '') + " - " + title;
		}else if (is_tag()){
			title = "标签 : " + page.tag + " - " + title;
		}else if (is_category()){
			title = "分类 : " + page.category + " - " + title;
		}else if (is_archive()){
			if (page.year){
				if(page.month == undefined){
					title = "年度归档 : " + page.year +"年 "+ " - " + title;
				}else{
					title = "月度归档 : " + page.year + '年' + page.month + "月 - " + title;
				}
			}else{
				title = "归档 - " + title;
			}
		}else{
			title = title + " - 人生如戏，故事如诗。";		
		}
	%>
	<title><%- title %></title>
	<meta charset="utf-8">
	<% if (theme.enable_mobile_scale) { %>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
	<% }else{ %>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<% } %>
	<%- open_graph() %>
	<% if(theme.pwa.enable) { %>
		<link rel="manifest" href="/manifest.json">
	<% } %>
	<meta name="theme-color" content="<%= theme.theme_color %>">
	<meta name="theme-color-rgb" content="<%= hex2str(theme.theme_color) %>">
	<meta name="theme-color-origin" content="<%= theme.theme_color %>">
	<meta name="argon-enable-custom-theme-color" content="<%= theme.show_customize_theme_color_picker %>">
	<meta name="theme-card-radius" content="<%= theme.card_radius %>">
	<meta name="theme-version" content="<%= argon_version() %>">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<script src="/assets/vendor/mdui/mdui.min.js"></script>
    <script src="/assets/vendor/sweetalert/sweetalert.min.js"></script>
	<script src="/assets/vendor/marked/marked.min.js"></script>
	<script src="/assets/js/APlayer.min.js"></script>
	<link rel="stylesheet" href="/assets/css/APlayer.min.css" />
	<script src="/assets/vendor/echarts/echarts.min.js"></script>
	<link rel="stylesheet" href="/assets/css/twikoo.anmeng.css"/>
	<link rel="stylesheet" href="https://npm.elemecdn.com/lxgw-wenkai-webfont@1.7.0/style.css">
	<script src="/assets/js/darkdream_piano.js"></script>
	<script src="/assets/js/ff_clock.js"></script>
	<script src="/assets/js/darkdream_blog.js"></script>
	<script src="/assets/js/darkdream_roman_clock.js"></script>
	<script src="/assets/js/calendar.js"></script>
	<script src="/assets/js/echarts.min.js"></script>
	<script src="/assets/vendor/twikoo/twikoo.all.anmeng.min.js"></script>
	<% if (theme.enable_show_fps) { %>
		<script async src="/assets/js/darkdream_blog_fps.js"></script>
	<% } %>
	<div id="fps"></div>
	<style id="fancybox-style-noscroll" type="text/css">
		.compensate-for-scrollbar{
			margin-right:15px;
		}
	</style>
	<%- css('/assets/vendor/mdui/mdui.min.css')  %>
	<%- css('/assets/argon_css_merged.css') %>
	<%- css('/style.css') %>
	<%- css('//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Noto+Serif+SC:300,600&display=swap') %>
	<%- js('/assets/argon_js_merged.js') %>
	<%- js('/assets/js/argon.min.js') %>

	<% if(theme.enable_particles) {  %>
		<%- js('/assets/vendor/particles/particles.min.js') %>
	<% } %>
	<% if (theme.gitalk.enable) { %>
		<%- css('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css') %>
		<%- js('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js') %>
	<% } %>

	<script>
		var argonConfig = {
			language: "zh_CN",
			<% if (theme.enable_zoomify != false){ %>
				zoomify: {
					duration: <%= theme.zoomify_duration %>,
					easing: "<%= theme.zoomify_easing %>",
					scale: <%= theme.zoomify_scale %>
				},
			<% } else { %>
				zoomify: false,
			<% } %>
			<% if (theme.enable_fancybox != false){ %>
				fancybox: {},
			<% } else { %>
				fancybox: false,
			<% } %>
			pangu: "<%= theme.enable_pangu %>",
			<% if (theme.enable_lazyload != false){ %>
				lazyload: {
					threshold: <%= theme.lazyload_threshold %>,
					effect: "<%= theme.lazyload_effect %>"
				},
			<% } else { %>
				lazyload: false,
			<% } %>
			disable_pjax: false,
			headroom: <%= theme.enable_headroom %>,
			<% if(theme.waterflow  == true) { %>
				waterflow_columns: "<%= theme.waterflow_columns %>"
			<% } %>
		}

		<% var lastUpdated = 0; %>
		<% site.posts.forEach(function(post) {
			var updated = new Date(post.updated || post.date);
			if (updated > lastUpdated) { lastUpdated = updated; }
		}); %>
		
		var anmeng_blog_config = {
			twikoo: {
				twikoo_url: "<%= theme.twikoo.twikoo_url %>"
			},
			blog_last_update_time: "<%= moment(lastUpdated).format('YYYY-MM-DD') %>"
		};
	</script>
	<script no-pjax="">
	function yearprogress_refresh(){
		let year = new Date().getFullYear();
		$("#yearprogress_yearname").text(year);
		let from = new Date(year, 0, 1, 0, 0, 0);
		let to = new Date(year, 11, 31, 23, 59, 59);
		let now = new Date();
		let progress = ((now - from) / (to - from + 1) * 100).toFixed(7);
		let progressshort = ((now - from) / (to - from + 1) * 100).toFixed(2);
		$("#yearprogress_progresstext").text(progressshort + "%");
		$("#yearprogress_progresstext_full").text(progress + "%");
		$("#yearprogress_progressbar").css("width" , progress + "%");
	}
		yearprogress_refresh();
		if (typeof(yearProgressIntervalHasSet) == "undefined"){
   		 var yearProgressIntervalHasSet = true;
   		 setInterval(function(){yearprogress_refresh();},500);
	}
</script>
	<script>
		window.addEventListener("scroll", function (e) {
		  if (window.scrollY > window.innerHeight * 0.3) {
		    document.querySelector("#content").classList.add("scrolled");
		  } else {
		    document.querySelector("#content").classList.remove("scrolled");
		  }
		});
	</script>
	<script>
		var darkmodeAutoSwitch = "<%= theme.darkmode_autoswitch %>";
		<% if(theme.darkmode_autoswitch == "time") { %>
			localStorage["FantasyLand_DarkDream_darkmode_start_time"] = "<%= theme.darkmode_timemode_config.night_start_time %>";
			localStorage["FantasyLand_DarkDream_darkmode_end_time"] = "<%= theme.darkmode_timemode_config.night_end_time %>";
		<% } %>
 		function setDarkmode(enable){
			if (enable == true){
				$("html").addClass("darkmode");
			}else{
				$("html").removeClass("darkmode");
			}
			$(window).trigger("scroll");
		}
		function toggleDarkmode(){
			if ($("html").hasClass("darkmode")){
				setDarkmode(false);
				$("#cc_info").removeClass("cc_info_darkmode");
				sessionStorage.setItem("Argon_Enable_Dark_Mode", "false");
			}else{
				setDarkmode(true);
				sessionStorage.setItem("Argon_Enable_Dark_Mode", "true");
				$("#cc_info").addClass("cc_info_darkmode");
			}
		}
		if (sessionStorage.getItem("Argon_Enable_Dark_Mode") == "true"){
			setDarkmode(true);
		}
		function toggleDarkmodeByPrefersColorScheme(media){
			if (sessionStorage.getItem('Argon_Enable_Dark_Mode') == "false" || sessionStorage.getItem('Argon_Enable_Dark_Mode') == "true"){
				return;
			}
			if (media.matches){
				setDarkmode(true);
			}else{
				setDarkmode(false);
			}
		}
		<% if(theme.darkmode_autoswitch == "time") { %>
		function toggleDarkmodeByTime(){
			if (sessionStorage.getItem('Argon_Enable_Dark_Mode') == "false" || sessionStorage.getItem('Argon_Enable_Dark_Mode') == "true"){
				return;
			}
			let hour = new Date().getHours();
			if (hour < parseInt(localStorage["FantasyLand_DarkDream_darkmode_end_time"]) || hour >= parseInt(localStorage["FantasyLand_DarkDream_darkmode_start_time"])){
				setDarkmode(true);
			}else{
				setDarkmode(false);
			}
		}
		<% } %>
		if (darkmodeAutoSwitch == 'system'){
			var darkmodeMediaQuery = window.matchMedia("(prefers-color-scheme: dark)");
			darkmodeMediaQuery.addListener(toggleDarkmodeByPrefersColorScheme);
			toggleDarkmodeByPrefersColorScheme(darkmodeMediaQuery);
		}
		<% if(theme.darkmode_autoswitch == "time") { %>
		if (darkmodeAutoSwitch == 'time'){
			toggleDarkmodeByTime();
		}
		<% } %>
		if (darkmodeAutoSwitch == 'alwayson'){
			setDarkmode(true);
		}

		function toggleAmoledDarkMode(){
			$("html").toggleClass("amoled-dark");
			if ($("html").hasClass("amoled-dark")){
				localStorage.setItem("Argon_Enable_Amoled_Dark_Mode", "true");
			}else{
				localStorage.setItem("Argon_Enable_Amoled_Dark_Mode", "false");
			}
		}
		if (localStorage.getItem("Argon_Enable_Amoled_Dark_Mode") == "true"){
			$("html").addClass("amoled-dark");
		}else if (localStorage.getItem("Argon_Enable_Amoled_Dark_Mode") == "false"){
			$("html").removeClass("amoled-dark");
		}
	</script>
	<script>
		if (navigator.userAgent.indexOf("Safari") !== -1 && navigator.userAgent.indexOf("Chrome") === -1){
			$("html").addClass("using-safari");
		}
	</script>

	<% if (theme.smoothscroll == '2'){ %>
		<%- js('/assets/vendor/smoothscroll/smoothscroll2.js') %>
	<% }else if (theme.smoothscroll == '3'){ %>
		<%- js('/assets/vendor/smoothscroll/smoothscroll3.min.js') %>
	<% }else if (theme.smoothscroll == '1_pulse'){ %>
		<%- js('/assets/vendor/smoothscroll/smoothscroll1_pulse.js') %>
	<% }else if (theme.smoothscroll != 'disabled'){ %>
		<%- js('/assets/vendor/smoothscroll/smoothscroll1.js') %>
	<% } %>
</head>

<%- theme.custom_html_head %>

<style id="themecolor_css">
	<%
		let themecolor_rgbstr = hex2str(theme.theme_color);
		let RGB = hex2rgb(theme.theme_color);
		let HSL = rgb2hsl(RGB['R'], RGB['G'], RGB['B']);
		let themecolor_red = RGB['R'];
		let themecolor_green = RGB['G'];
		let themecolor_blue = RGB['B'];

		let RGB_dark0 = hsl2rgb(HSL['h'], HSL['s'], Math.max(HSL['l'] - 0.025, 0));
		let themecolor_dark0 = rgb2hex(RGB_dark0['R'],RGB_dark0['G'],RGB_dark0['B']);

		let RGB_dark = hsl2rgb(HSL['h'], HSL['s'], Math.max(HSL['l'] - 0.05, 0));
		let themecolor_dark = rgb2hex(RGB_dark['R'], RGB_dark['G'], RGB_dark['B']);

		let RGB_dark2 = hsl2rgb(HSL['h'], HSL['s'], Math.max(HSL['l'] - 0.1, 0));
		let themecolor_dark2 = rgb2hex(RGB_dark2['R'],RGB_dark2['G'],RGB_dark2['B']);

		let RGB_dark3 = hsl2rgb(HSL['h'], HSL['s'], Math.max(HSL['l'] - 0.15, 0));
		let themecolor_dark3 = rgb2hex(RGB_dark3['R'],RGB_dark3['G'],RGB_dark3['B']);

		let RGB_light = hsl2rgb(HSL['h'], HSL['s'], Math.min(HSL['l'] + 0.1, 1));
		let themecolor_light = rgb2hex(RGB_light['R'],RGB_light['G'],RGB_light['B']);
	%>
	:root{
		--themecolor: <%= theme.theme_color %>;
		--themecolor-dark0: <%= themecolor_dark0 %>;
		--themecolor-dark: <%= themecolor_dark %>;
		--themecolor-dark2: <%= themecolor_dark2 %>;
		--themecolor-dark3: <%= themecolor_dark3 %>;
		--themecolor-light: <%= themecolor_light %>;
		--themecolor-R: <%= themecolor_red %>;
		--themecolor-G: <%= themecolor_green %>;
		--themecolor-B: <%= themecolor_blue %>;
		--themecolor-rgbstr: <%= themecolor_rgbstr %>;
		--theme-opacity: .65;
		--themecolor-gradient: linear-gradient(150deg,var(--themecolor-light) 15%, var(--themecolor) 70%, var(--themecolor-dark0) 94%);

	}
</style>
<style id="theme_cardradius_css">
	:root{
		--card-radius: <%= theme.card_radius %>px;
	}
</style>
<body>
<% if(theme.enable_particles) { %>
	<div id="particles-js"></div>
<% } %>
<div id="toolbar">
	<header class="header-global">
		<nav id="navbar-main" class="navbar navbar-main navbar-expand-lg navbar-transparent navbar-light bg-primary headroom--not-bottom headroom--not-top headroom--pinned">
			<div class="container">
				<% if (theme.toolbar_icon != '') { %>
					<a class="navbar-brand navbar-icon mr-lg-5" href="<%= theme.toolbar_icon_link %>">
						<img src="<%= theme.toolbar_icon %>">
					</a>
				<% } %>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar_global" aria-controls="navbar_global" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<a class="navbar-brand" href="<%= url_for('/') %>"><%= (theme.toolbar_title == '' ? config.title : theme.toolbar_title) %></a>
				<div class="navbar-collapse collapse" id="navbar_global">
					<div class="navbar-collapse-header">
						<div class="row">
							<div class="col-6 collapse-brand"></div>
							<div class="col-6 collapse-close">
								<button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar_global" aria-controls="navbar_global" aria-expanded="false" aria-label="Toggle navigation">
									<span></span>
									<span></span>
								</button>
							</div>
						</div>
						&nbsp;
					</div>
					<%
						if (theme.toolbar_menu != false) { %>
							<ul class='navbar-nav navbar-nav-hover align-items-lg-center ml-lg-auto"'>
								<%
									for (let i in theme.toolbar_menu){ %>
										<li class='nav-item<%= (typeof(theme.toolbar_menu[i]) == "object" ? " dropdown" : "") %>'>
											<a href='<%= (typeof(theme.toolbar_menu[i]) == "object" ? "" : url_for(theme.toolbar_menu[i])) %>' class='nav-link' <%- (typeof(theme.toolbar_menu[i]) == "object" ? "onclick='return false;' data-toggle='dropdown' no-pjax" : "") %>>
												<i class='ni ni-book-bookmark d-lg-none'></i>
												<span class='nav-link-inner--text'><%- i %></span>
											</a>
											<%
												if (typeof(theme.toolbar_menu[i]) == "object"){ %>
													<div class="dropdown-menu">
														<% for (let j in theme.toolbar_menu[i]){ %>
															<a href='<%= url_for(theme.toolbar_menu[j]) %>' class='dropdown-item'><%= j %></a>
														<% } %>
													</div>
												<% }
											%>
										</li>
									<%}
								%>
							</ul>
						<% }
					%>
				<% if (theme.toolbar_icon != '') { %>
					<a class="navbar-brand navbar-icon-mobile" href="<%= theme.toolbar_icon_link %>">
						<img src="<%= theme.toolbar_icon %>">
					</a>
				<% } %>
			</div>
			<ul class="navbar-nav align-items-lg-center ml-lg-auto">
				<li id="navbar_search_container" class="nav-item" data-toggle="modal">
					<div id="navbar_search_input_container" class="">
						<div class="input-group input-group-alternative">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fa fa-search"></i></span>
							</div>
							<input id="local-search-input" class="form-control" placeholder="搜索文章 & 说说" type="text" autocomplete="off" data-search.path="<%= config.search.path %>" data-config.root="<%= config.root %>">
							<div id="local-search-result" class="modal-content"></div>
						</input>
						</div>
					</div>
				</li>
			</ul>

		</nav>
	</header>
</div>

<!--Banner-->
<section id="banner" class="banner section section-lg section-shaped">
	
	<div class="shape <%= theme.banner_background_hide_shapes ? '' : 'shape-style-1' %> <%= theme.banner_background_color_type %>">
	<% if(theme.enable_banner_background_shape) { %>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
	<% } %>
	</div>

	<%
		let banner_title = theme.banner_title == '' ? config.title : theme.banner_title;
		let enable_banner_title_typing_effect = theme.enable_banner_title_typing_effect;
	%>
	<div id="banner_container" class="banner-container container text-center">
		<div class="banner-title text-white"><span class="banner-title-inner">FantasyLand の 暗梦</span>
		<script src="/assets/vendor/typed.js/typed.js"></script>
		<span class="banner-subtitle d-block">
			<span id="typed"></span>
		</span>
		<script>
	  		var typed = new Typed('#typed', {
	    		"strings":["Hello，来自异乡的旅行者，I'm 暗梦，你也可以叫我沉默Ace</br>来坐坐吧，让我们来观赏夜空，来回忆曾经的诗与远方。","在都市里一些阴暗的角落中，也有人人心系的梦想<br>但我们仍旧可以保持善良与友爱。","我们看错了这个世界，却说这个世界欺骗了我们。","或许人生没有Ctrl+Z，或者在Mac上的Command+Z，有时候你需要</br>“[root@Your's Life]# reboot ”","有时侯明白人的一生当中，深刻的思念是维系自己与记忆的纽带</br>它维系着所有的过往，悲喜，亦指引我们深入茫茫命途<br>这是我们宿命的背负，但我始终甘之如饴地承受它的沉沉重量，用以平衡轻浮的生。","人最怕的不是失去，而是没有面对失去的勇气</br>人生，得失聚散，坦然处之，得到未必是福，失去未必是祸。","人生如戏，故事如诗。"],"typeSpeed":140,"backSpeed":50,"loop":false,"showCursor":true,cursorChar: ' ✦'
	  		});
			</script>

	</div>
	</div>
	<% if (theme.banner_background_url != '') { %>
		<style>
			section.banner{
				background-image: url(<%= theme.banner_background_url %>) !important;
			}
		</style>
	<% } %>
	<div class="cover-scroll-down">
		<i class="fa fa-angle-down" id="cover-scroll-down-icon" aria-hidden="true"></i>
	</div>
</section>

<% if (theme.page_background_url != ''){ %>
	<style>
		#content.scrolled::after,
		#content.scrolled::before {
                   filter: blur(6px);
                   transform: scale(1.02);
		}

		#content:before {
			transition: filter .3s ease, transform .3s ease !important;
			content: '';
			display: block;
			position: fixed;
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;
			z-index: -2;
			background: url(<%= theme.page_background_url %>);
			background-position: center;
			background-size: cover;
			background-repeat: no-repeat;
			opacity: <%= theme.page_background_opacity %>;
			transition: opacity .5s ease;
		}
		html.darkmode #content:before{
			filter: brightness(0var(--theme-opacity));
		}
		<% if (theme.page_background_dark_url != ''){ %>
			#content:after {
				content: '';
				transition: filter .3s ease, transform .3s ease !important;
				display: block;
				position: fixed;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
				z-index: -2;
				background: url(<%= theme.page_background_dark_url %>);
				background-position: center;
				background-size: cover;
				background-repeat: no-repeat;
				opacity: 0;
				transition: opacity .5s ease;
			}
			html.darkmode #content:after {
				opacity: <%= theme.page_background_opacity %>;
			}
			html.darkmode #content:before {
				opacity: 0;
			}
		<% } %>
		<% if (theme.transparent_banner) { %>
			#banner, #banner .shape {
				background: transparent !important;
			}
		<% } %>
	</style>
<% } %>

<% if (theme.show_toolbar_mask) { %>
	<style>
		#banner:after {
			content: '';
			width: 100vw;
			position: absolute;
			left: 0;
			top: 0;
			height: 120px;
			background: linear-gradient(180deg, rgba(0,0,0,0.25) 0%, rgba(0,0,0,0.15) 35%, rgba(0,0,0,0) 100%);
			display: block;
			z-index: -1;
		}
		.banner-title {
			text-shadow: 0 5px 15px rgba(0, 0, 0, .2);
		}
	</style>
<% } %>

<div id="float_action_buttons" class="float-action-buttons fabtns-unloaded">
	<button id="fabtn_toggle_sides" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" aria-hidden="true" tooltip-move-to-left="移至左侧" tooltip-move-to-right="移至右侧">
		<span class="btn-inner--icon fabtn-show-on-right"><i class="fa fa-caret-left"></i></span>
		<span class="btn-inner--icon fabtn-show-on-left"><i class="fa fa-caret-right"></i></span>
	</button>
	<button id="fabtn_back_to_top" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" aria-label="Back To Top" tooltip="回到顶部">
		<span class="btn-inner--icon"><i class="fa fa-angle-up"></i></span>
	</button>
	<% if(theme.enable_musicbox) { %>
	<button id="fabtn_toggle_aplayer" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" tooltip="音乐播放器">
		<span class="btn-inner--icon"><i class="fa fa-music"></i></span>
	</button>
	<% } %>
	<button id="fabtn_toggle_darkmode" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" <-% theme.fab_show_darkmode_button ? "" : "style='display: none;' %> aria-label="Toggle Darkmode" tooltip-darkmode="夜间模式" tooltip-blackmode="暗黑模式" tooltip-lightmode="日间模式">
		<span class="btn-inner--icon"><i class="fa fa-moon-o"></i><i class='fa fa-lightbulb-o'></i></span>
	</button>
	<% if(theme.enable_randompost) { %>
	<button id="fabtn_goto_randompost" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" aria-label="goto_randompost" tooltip="随机文章">
		<span class="btn-inner--icon"><i class="fa fa-random"></i></span>
	</button>
	<% } %>
	<button id="fabtn_go_to_comment" class="btn btn-icon btn-neutral fabtn shadow-sm d-none" type="button" style="height: 30px !important;" <-% theme.fab_show_gotocomment_button ? "" : "style='display: none;'" %> aria-label="Comment" tooltip="评论">
		<span class="btn-inner--icon"><i class="fa fa-comment-o"></i></span>
	</button>
	<button id="fabtn_toggle_blog_settings_popup" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" <-% theme.fab_show_settings_button ? "" : "style='display: none;'" %> aria-label="Open Blog Settings Menu" tooltip="设置">
		<span class="btn-inner--icon"><i class="fa fa-cog"></i></span>
	</button>
	<div id="fabtn_blog_settings_popup" class="card shadow-sm" style="opacity: 0;" aria-hidden="true">
		<div id="close_blog_settings"><i class="fa fa-close"></i></div>
		<div class="blog-setting-item mt-3">
			<div style="transform: translateY(-4px);"><div id="blog_setting_toggle_darkmode_and_amoledarkmode" tooltip-switch-to-darkmode="切换到夜间模式" tooltip-switch-to-blackmode="切换到暗黑模式"><i class="fa fa-moon-o"></i>&nbsp;&nbsp;<span>夜间模式</span><span>暗黑模式</span></div></div>
			<div style="flex: 1;"></div>
			<label id="blog_setting_darkmode_switch" class="custom-toggle">
				<span class="custom-toggle-slider rounded-circle"></span>
			</label>
		</div>
		<% if(theme.blogstyle == "default") { %>
		<div class="blog-setting-item mt-3 toggle_readingmode">
			<div style="transform: translateY(-4px);"><div id="blog_setting_toggle_readingmode"><i class="fa fa-book"></i>&nbsp;&nbsp;<span>阅读模式布局 <i>(单栏布局)</i></span></div></div>
			<div style="flex: 1;"></div>
			<label id="blog_setting_readingmode_switch" class="custom-toggle">
				<span class="custom-toggle-slider rounded-circle"></span>
			</label>
		</div>
		<% } %>
		<div class="blog-setting-item mt-3">
			<div style="flex: 1;"><i class="fa fa-font"></i>&nbsp;&nbsp;字体</div>
			<div>
				<button id="blog_setting_font_sans_serif" type="button" class="blog-setting-font btn btn-outline-primary blog-setting-selector-left">Sans Serif</button><button id="blog_setting_font_serif" type="button" class="blog-setting-font btn btn-outline-primary blog-setting-selector-right">Serif</button>
			</div>
		</div>
		<div class="blog-setting-item mt-3">
			<div style="flex: 1;"></div>
			<div>
				<button id="blog_setting_font_lxgw_wk" type="button" class="blog-setting-font btn btn-outline-primary blog-setting-selector-left">霞鹜文楷</button><button id="blog_setting_font_myzymyqx" type="button" class="blog-setting-font btn btn-outline-primary blog-setting-selector-single">满眼醉意梦屿千寻</button><button id="blog_setting_font_unifont" type="button" class="blog-setting-font btn btn-outline-primary blog-setting-selector-right">GNU Unifont</button>
			</div>
		</div>
		<div class="blog-setting-item mt-3">
			<div style="flex: 1;"><i class="fa fa-clone"></i>&nbsp;&nbsp;阴影</div>
			<div>
				<button id="blog_setting_shadow_small" type="button" class="blog-setting-shadow btn btn-outline-primary blog-setting-selector-left">浅阴影</button><button id="blog_setting_shadow_big" type="button" class="blog-setting-shadow btn btn-outline-primary blog-setting-selector-right">深阴影</button>
			</div>
		</div>
		<div class="blog-setting-item mt-3 mb-3">
			<div style="flex: 1;"><i class="fa fa-desktop"></i>&nbsp;&nbsp;滤镜</div>
			<div id="blog_setting_filters" class="ml-3">
				<button id="blog_setting_filter_off" type="button" class="blog-setting-filter-btn ml-0" filter-name="off">关闭</button>
				<button id="blog_setting_filter_sunset" type="button" class="blog-setting-filter-btn" filter-name="sunset">日落</button>
				<button id="blog_setting_filter_darkness" type="button" class="blog-setting-filter-btn" filter-name="darkness">暗化</button>
				<button id="blog_setting_filter_grayscale" type="button" class="blog-setting-filter-btn" filter-name="grayscale">灰度</button>
			</div>
		</div>
		<div class="blog-setting-item mb-3">
			<div id="blog_setting_card_radius_to_default" style="cursor: pointer;" tooltip="恢复默认"><i class="fa fa-circle"></i>&nbsp;&nbsp;圆角</div>
			<div style="flex: 1;margin-left: 20px;margin-right: 8px;transform: translateY(2px);">
				<div id="blog_setting_card_radius"></div>
			</div>
		</div>
		<% if (theme.show_customize_theme_color_picker){ %>
			<div class="blog-setting-item mt-1 mb-3">
				<div style="flex: 1;"><i class="fa fa-eyedropper"></i>&nbsp;&nbsp;主题色</div>
				<div id="theme-color-picker" class="ml-3"></div>
			</div>
		<% } %>
	</div>
	<button id="fabtn_open_sidebar" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" aria-label="Open Sidebar Menu" tooltip="菜单">
		<span class="btn-inner--icon"><i class="fa fa-bars"></i></span>
	</button>
	<% if (theme.enable_show_fps) { %>
	<button id="fabtn_blog_fps" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" aria-hidden="true" style="height: 30px !important;" tooltip="博客帧率 (FPS)">
		<div id="fabtn_fps_progress_bar" style="width: 0%;"></div>
		<span>0</span>
	</button>
	<% } %>
	<button id="fabtn_reading_progress" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" aria-hidden="true" tooltip="阅读进度">
		<div id="fabtn_reading_progress_bar" style="width: 0%;"></div>
		<span id="fabtn_reading_progress_details">0%</span>
	</button>
</div>

<div id="content" class="site-content">

<% if (theme.baidu_analytics.enable) { %>
	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "https://hm.baidu.com/hm.js?<%= theme.baidu_analytics.id %>" ;
		  var s = document.getElementsByTagName("script")[0]; 
		  s.parentNode.insertBefore(hm, s);
		})();
		</script>
		
<% } %>

<% if (theme.gtag.enable) { %>
<script async src="<%= 'https://www.googletagmanager.com/gtag/js?id=' + theme.gtag.id %>"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '<%= theme.gtag.id %>');
</script>
<% } %>