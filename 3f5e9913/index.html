<!DOCTYPE html>


<html class="use-lxgw_wk banner-as-cover article-header-style-2">
<head>
	
	<title>如何给你的 Typecho / Hexo 文章添加短代码支持 - FantasyLand の 暗梦</title>
	<meta charset="utf-8">
	
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	
	<meta name="description" content="I.Typecho 文章添加短代码支持在之前使用 WordPress 的时候我们习惯于使用短代码来表示一段文字的重点，但是自从没有了 WordPress 的那些短代码插件或者自带短代码功能的插件之后，到了 Typecho 却变得有点不适应，无妨，暗梦我来讲讲如何让你的Typecho文章也支持短代码。 首先我们还是打开你博客的主题根目录，在 functions.php 添加下列代码，各位旅行者可以参">
<meta property="og:type" content="article">
<meta property="og:title" content="如何给你的 Typecho &#x2F; Hexo 文章添加短代码支持">
<meta property="og:url" content="https://anmeng.asia/3f5e9913/index.html">
<meta property="og:site_name" content="FantasyLand の 暗梦">
<meta property="og:description" content="I.Typecho 文章添加短代码支持在之前使用 WordPress 的时候我们习惯于使用短代码来表示一段文字的重点，但是自从没有了 WordPress 的那些短代码插件或者自带短代码功能的插件之后，到了 Typecho 却变得有点不适应，无妨，暗梦我来讲讲如何让你的Typecho文章也支持短代码。 首先我们还是打开你博客的主题根目录，在 functions.php 添加下列代码，各位旅行者可以参">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-11-14T08:06:33.000Z">
<meta property="article:modified_time" content="2024-02-02T17:05:27.000Z">
<meta property="article:author" content="暗梦先生呀~">
<meta property="article:tag" content="Hexo">
<meta property="article:tag" content="Typecho">
<meta name="twitter:card" content="summary">
	
	<meta name="theme-color" content="#F05B85">
	<meta name="theme-color-rgb" content="240,91,133">
	<meta name="theme-color-origin" content="#F05B85">
	<meta name="argon-enable-custom-theme-color" content="true">
	<meta name="theme-card-radius" content="15">
	<meta name="theme-version" content="1.0.2">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<script src="/assets/vendor/mdui/mdui.min.js"></script>
    <script src="/assets/vendor/sweetalert/sweetalert.min.js"></script>
	<script src="/assets/vendor/marked/marked.min.js"></script>
	<script src="/assets/js/APlayer.min.js"></script>
	<link rel="stylesheet" href="/assets/css/APlayer.min.css" />
	<script src="/assets/vendor/echarts/echarts.min.js"></script>
	<link rel="stylesheet" href="/assets/css/twikoo.anmeng.css"/>
	<link rel="stylesheet" href="https://npm.elemecdn.com/lxgw-wenkai-webfont@1.7.0/style.css">
	<script src="/assets/js/darkdream_piano.js"></script>
	<script src="/assets/js/ff_clock.js"></script>
	<script src="/assets/js/darkdream_blog.js"></script>
	<script src="/assets/js/darkdream_roman_clock.js"></script>
	<script src="/assets/js/calendar.js"></script>
	<script src="/assets/js/echarts.min.js"></script>
	<script src="/assets/vendor/twikoo/twikoo.all.anmeng.min.js"></script>
	
		<script async src="/assets/js/darkdream_blog_fps.js"></script>
	
	<div id="fps"></div>
	<style id="fancybox-style-noscroll" type="text/css">
		.compensate-for-scrollbar{
			margin-right:15px;
		}
	</style>
	
<link rel="stylesheet" href="/assets/vendor/mdui/mdui.min.css">

	
<link rel="stylesheet" href="/assets/argon_css_merged.css">

	
<link rel="stylesheet" href="/style.css">

	
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Noto+Serif+SC:300,600&display=swap.css">

	
<script src="/assets/argon_js_merged.js"></script>

	
<script src="/assets/js/argon.min.js"></script>


	
	

	<script>
		var argonConfig = {
			language: "zh_CN",
			
				zoomify: false,
			
			
				fancybox: {},
			
			pangu: "false",
			
				lazyload: false,
			
			disable_pjax: false,
			headroom: false,
			
				waterflow_columns: "2and3"
			
		}

		
		
		
		var anmeng_blog_config = {
			twikoo: {
				twikoo_url: "https://twikoo.anmeng.asia"
			},
			blog_last_update_time: "2024-08-07"
		};
	</script>
	<script no-pjax="">
	function yearprogress_refresh(){
		let year = new Date().getFullYear();
		$("#yearprogress_yearname").text(year);
		let from = new Date(year, 0, 1, 0, 0, 0);
		let to = new Date(year, 11, 31, 23, 59, 59);
		let now = new Date();
		let progress = ((now - from) / (to - from + 1) * 100).toFixed(7);
		let progressshort = ((now - from) / (to - from + 1) * 100).toFixed(2);
		$("#yearprogress_progresstext").text(progressshort + "%");
		$("#yearprogress_progresstext_full").text(progress + "%");
		$("#yearprogress_progressbar").css("width" , progress + "%");
	}
		yearprogress_refresh();
		if (typeof(yearProgressIntervalHasSet) == "undefined"){
   		 var yearProgressIntervalHasSet = true;
   		 setInterval(function(){yearprogress_refresh();},500);
	}
</script>
	<script>
		window.addEventListener("scroll", function (e) {
		  if (window.scrollY > window.innerHeight * 0.3) {
		    document.querySelector("#content").classList.add("scrolled");
		  } else {
		    document.querySelector("#content").classList.remove("scrolled");
		  }
		});
	</script>
	<script>
		var darkmodeAutoSwitch = "system";
		
 		function setDarkmode(enable){
			if (enable == true){
				$("html").addClass("darkmode");
			}else{
				$("html").removeClass("darkmode");
			}
			$(window).trigger("scroll");
		}
		function toggleDarkmode(){
			if ($("html").hasClass("darkmode")){
				setDarkmode(false);
				$("#cc_info").removeClass("cc_info_darkmode");
				sessionStorage.setItem("Argon_Enable_Dark_Mode", "false");
			}else{
				setDarkmode(true);
				sessionStorage.setItem("Argon_Enable_Dark_Mode", "true");
				$("#cc_info").addClass("cc_info_darkmode");
			}
		}
		if (sessionStorage.getItem("Argon_Enable_Dark_Mode") == "true"){
			setDarkmode(true);
		}
		function toggleDarkmodeByPrefersColorScheme(media){
			if (sessionStorage.getItem('Argon_Enable_Dark_Mode') == "false" || sessionStorage.getItem('Argon_Enable_Dark_Mode') == "true"){
				return;
			}
			if (media.matches){
				setDarkmode(true);
			}else{
				setDarkmode(false);
			}
		}
		
		if (darkmodeAutoSwitch == 'system'){
			var darkmodeMediaQuery = window.matchMedia("(prefers-color-scheme: dark)");
			darkmodeMediaQuery.addListener(toggleDarkmodeByPrefersColorScheme);
			toggleDarkmodeByPrefersColorScheme(darkmodeMediaQuery);
		}
		
		if (darkmodeAutoSwitch == 'alwayson'){
			setDarkmode(true);
		}

		function toggleAmoledDarkMode(){
			$("html").toggleClass("amoled-dark");
			if ($("html").hasClass("amoled-dark")){
				localStorage.setItem("Argon_Enable_Amoled_Dark_Mode", "true");
			}else{
				localStorage.setItem("Argon_Enable_Amoled_Dark_Mode", "false");
			}
		}
		if (localStorage.getItem("Argon_Enable_Amoled_Dark_Mode") == "true"){
			$("html").addClass("amoled-dark");
		}else if (localStorage.getItem("Argon_Enable_Amoled_Dark_Mode") == "false"){
			$("html").removeClass("amoled-dark");
		}
	</script>
	<script>
		if (navigator.userAgent.indexOf("Safari") !== -1 && navigator.userAgent.indexOf("Chrome") === -1){
			$("html").addClass("using-safari");
		}
	</script>

	
		
<script src="/assets/vendor/smoothscroll/smoothscroll1.js"></script>

	
<meta name="generator" content="Hexo 5.4.2"></head>



<style id="themecolor_css">
	
	:root{
		--themecolor: #F05B85;
		--themecolor-dark0: #EF4F7C;
		--themecolor-dark: #EE4474;
		--themecolor-dark2: #EC2C62;
		--themecolor-dark3: #E91551;
		--themecolor-light: #F48AA8;
		--themecolor-R: 240;
		--themecolor-G: 91;
		--themecolor-B: 133;
		--themecolor-rgbstr: 240,91,133;
		--theme-opacity: .65;
		--themecolor-gradient: linear-gradient(150deg,var(--themecolor-light) 15%, var(--themecolor) 70%, var(--themecolor-dark0) 94%);

	}
</style>
<style id="theme_cardradius_css">
	:root{
		--card-radius: 15px;
	}
</style>
<body>

<div id="toolbar">
	<header class="header-global">
		<nav id="navbar-main" class="navbar navbar-main navbar-expand-lg navbar-transparent navbar-light bg-primary headroom--not-bottom headroom--not-top headroom--pinned">
			<div class="container">
				
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar_global" aria-controls="navbar_global" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<a class="navbar-brand" href="/">FantasyLand の 暗梦</a>
				<div class="navbar-collapse collapse" id="navbar_global">
					<div class="navbar-collapse-header">
						<div class="row">
							<div class="col-6 collapse-brand"></div>
							<div class="col-6 collapse-close">
								<button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar_global" aria-controls="navbar_global" aria-expanded="false" aria-label="Toggle navigation">
									<span></span>
									<span></span>
								</button>
							</div>
						</div>
						&nbsp;
					</div>
					
							<ul class='navbar-nav navbar-nav-hover align-items-lg-center ml-lg-auto"'>
								
										<li class='nav-item'>
											<a href='/' class='nav-link' >
												<i class='ni ni-book-bookmark d-lg-none'></i>
												<span class='nav-link-inner--text'><i class="fa fa-home mr-1"></i>&nbsp;首页</span>
											</a>
											
										</li>
									
										<li class='nav-item'>
											<a href='/shuoshuo' class='nav-link' >
												<i class='ni ni-book-bookmark d-lg-none'></i>
												<span class='nav-link-inner--text'><i class="fa fa-quote-left mr-1"></i>&nbsp;说说</span>
											</a>
											
										</li>
									
										<li class='nav-item'>
											<a href='/archives' class='nav-link' >
												<i class='ni ni-book-bookmark d-lg-none'></i>
												<span class='nav-link-inner--text'><i class="fa fa-archive mr-1"></i>&nbsp;归档</span>
											</a>
											
										</li>
									
										<li class='nav-item'>
											<a href='/liuyanban' class='nav-link' >
												<i class='ni ni-book-bookmark d-lg-none'></i>
												<span class='nav-link-inner--text'><i class="fa fa-comment mr-1"></i>&nbsp;留言板</span>
											</a>
											
										</li>
									
										<li class='nav-item'>
											<a href='/suzaku_links' class='nav-link' >
												<i class='ni ni-book-bookmark d-lg-none'></i>
												<span class='nav-link-inner--text'><i class="fa fa-address-book mr-1"></i>&nbsp;友人账</span>
											</a>
											
										</li>
									
										<li class='nav-item'>
											<a href='/suzaku_piano' class='nav-link' >
												<i class='ni ni-book-bookmark d-lg-none'></i>
												<span class='nav-link-inner--text'><i class="fa fa-music mr-1"></i>&nbsp;暗梦的天空之琴</span>
											</a>
											
										</li>
									
										<li class='nav-item'>
											<a target="_blank" rel="noopener" href='https://www.travellings.cn/go.html' class='nav-link' >
												<i class='ni ni-book-bookmark d-lg-none'></i>
												<span class='nav-link-inner--text'><i class="fa fa-subway mr-1"></i>&nbsp;开往</span>
											</a>
											
										</li>
									
										<li class='nav-item'>
											<a href='/about' class='nav-link' >
												<i class='ni ni-book-bookmark d-lg-none'></i>
												<span class='nav-link-inner--text'><i class="fa fa-user mr-1"></i>&nbsp;关于我</span>
											</a>
											
										</li>
									
							</ul>
						
				
			</div>
			<ul class="navbar-nav align-items-lg-center ml-lg-auto">
				<li id="navbar_search_container" class="nav-item" data-toggle="modal">
					<div id="navbar_search_input_container" class="">
						<div class="input-group input-group-alternative">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fa fa-search"></i></span>
							</div>
							<input id="local-search-input" class="form-control" placeholder="搜索文章 & 说说" type="text" autocomplete="off" data-search.path="search.xml" data-config.root="/">
							<div id="local-search-result" class="modal-content"></div>
						</input>
						</div>
					</div>
				</li>
			</ul>

		</nav>
	</header>
</div>

<!--Banner-->
<section id="banner" class="banner section section-lg section-shaped">
	
	<div class="shape shape-style-1 shape-default">
	
	</div>

	
	<div id="banner_container" class="banner-container container text-center">
		<div class="banner-title text-white"><span class="banner-title-inner">FantasyLand の 暗梦</span>
		<script src="/assets/vendor/typed.js/typed.js"></script>
		<span class="banner-subtitle d-block">
			<span id="typed"></span>
		</span>
		<script>
	  		var typed = new Typed('#typed', {
	    		"strings":["Hello，来自异乡的旅行者，I'm 暗梦，你也可以叫我沉默Ace</br>来坐坐吧，让我们来观赏夜空，来回忆曾经的诗与远方。","在都市里一些阴暗的角落中，也有人人心系的梦想<br>但我们仍旧可以保持善良与友爱。","我们看错了这个世界，却说这个世界欺骗了我们。","或许人生没有Ctrl+Z，或者在Mac上的Command+Z，有时候你需要</br>“[root@Your's Life]# reboot ”","有时侯明白人的一生当中，深刻的思念是维系自己与记忆的纽带</br>它维系着所有的过往，悲喜，亦指引我们深入茫茫命途<br>这是我们宿命的背负，但我始终甘之如饴地承受它的沉沉重量，用以平衡轻浮的生。","人最怕的不是失去，而是没有面对失去的勇气</br>人生，得失聚散，坦然处之，得到未必是福，失去未必是祸。","人生如戏，故事如诗。"],"typeSpeed":140,"backSpeed":50,"loop":false,"showCursor":true,cursorChar: ' ✦'
	  		});
			</script>

	</div>
	</div>
	
		<style>
			section.banner{
				background-image: url(/background.jpg) !important;
			}
		</style>
	
	<div class="cover-scroll-down">
		<i class="fa fa-angle-down" id="cover-scroll-down-icon" aria-hidden="true"></i>
	</div>
</section>


	<style>
		#content.scrolled::after,
		#content.scrolled::before {
                   filter: blur(6px);
                   transform: scale(1.02);
		}

		#content:before {
			transition: filter .3s ease, transform .3s ease !important;
			content: '';
			display: block;
			position: fixed;
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;
			z-index: -2;
			background: url(/background.jpg);
			background-position: center;
			background-size: cover;
			background-repeat: no-repeat;
			opacity: 1;
			transition: opacity .5s ease;
		}
		html.darkmode #content:before{
			filter: brightness(0var(--theme-opacity));
		}
		
			#content:after {
				content: '';
				transition: filter .3s ease, transform .3s ease !important;
				display: block;
				position: fixed;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
				z-index: -2;
				background: url(/background_darkmode.jpg);
				background-position: center;
				background-size: cover;
				background-repeat: no-repeat;
				opacity: 0;
				transition: opacity .5s ease;
			}
			html.darkmode #content:after {
				opacity: 1;
			}
			html.darkmode #content:before {
				opacity: 0;
			}
		
		
			#banner, #banner .shape {
				background: transparent !important;
			}
		
	</style>



	<style>
		#banner:after {
			content: '';
			width: 100vw;
			position: absolute;
			left: 0;
			top: 0;
			height: 120px;
			background: linear-gradient(180deg, rgba(0,0,0,0.25) 0%, rgba(0,0,0,0.15) 35%, rgba(0,0,0,0) 100%);
			display: block;
			z-index: -1;
		}
		.banner-title {
			text-shadow: 0 5px 15px rgba(0, 0, 0, .2);
		}
	</style>


<div id="float_action_buttons" class="float-action-buttons fabtns-unloaded">
	<button id="fabtn_toggle_sides" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" aria-hidden="true" tooltip-move-to-left="移至左侧" tooltip-move-to-right="移至右侧">
		<span class="btn-inner--icon fabtn-show-on-right"><i class="fa fa-caret-left"></i></span>
		<span class="btn-inner--icon fabtn-show-on-left"><i class="fa fa-caret-right"></i></span>
	</button>
	<button id="fabtn_back_to_top" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" aria-label="Back To Top" tooltip="回到顶部">
		<span class="btn-inner--icon"><i class="fa fa-angle-up"></i></span>
	</button>
	
	<button id="fabtn_toggle_aplayer" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" tooltip="音乐播放器">
		<span class="btn-inner--icon"><i class="fa fa-music"></i></span>
	</button>
	
	<button id="fabtn_toggle_darkmode" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" <-% theme.fab_show_darkmode_button ? "" : "style='display: none;'  aria-label="Toggle Darkmode" tooltip-darkmode="夜间模式" tooltip-blackmode="暗黑模式" tooltip-lightmode="日间模式">
		<span class="btn-inner--icon"><i class="fa fa-moon-o"></i><i class='fa fa-lightbulb-o'></i></span>
	</button>
	
	<button id="fabtn_goto_randompost" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" aria-label="goto_randompost" tooltip="随机文章">
		<span class="btn-inner--icon"><i class="fa fa-random"></i></span>
	</button>
	
	<button id="fabtn_go_to_comment" class="btn btn-icon btn-neutral fabtn shadow-sm d-none" type="button" style="height: 30px !important;" <-% theme.fab_show_gotocomment_button ? "" : "style='display: none;'"  aria-label="Comment" tooltip="评论">
		<span class="btn-inner--icon"><i class="fa fa-comment-o"></i></span>
	</button>
	<button id="fabtn_toggle_blog_settings_popup" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" <-% theme.fab_show_settings_button ? "" : "style='display: none;'"  aria-label="Open Blog Settings Menu" tooltip="设置">
		<span class="btn-inner--icon"><i class="fa fa-cog"></i></span>
	</button>
	<div id="fabtn_blog_settings_popup" class="card shadow-sm" style="opacity: 0;" aria-hidden="true">
		<div id="close_blog_settings"><i class="fa fa-close"></i></div>
		<div class="blog-setting-item mt-3">
			<div style="transform: translateY(-4px);"><div id="blog_setting_toggle_darkmode_and_amoledarkmode" tooltip-switch-to-darkmode="切换到夜间模式" tooltip-switch-to-blackmode="切换到暗黑模式"><i class="fa fa-moon-o"></i>&nbsp;&nbsp;<span>夜间模式</span><span>暗黑模式</span></div></div>
			<div style="flex: 1;"></div>
			<label id="blog_setting_darkmode_switch" class="custom-toggle">
				<span class="custom-toggle-slider rounded-circle"></span>
			</label>
		</div>
		
		<div class="blog-setting-item mt-3 toggle_readingmode">
			<div style="transform: translateY(-4px);"><div id="blog_setting_toggle_readingmode"><i class="fa fa-book"></i>&nbsp;&nbsp;<span>阅读模式布局 <i>(单栏布局)</i></span></div></div>
			<div style="flex: 1;"></div>
			<label id="blog_setting_readingmode_switch" class="custom-toggle">
				<span class="custom-toggle-slider rounded-circle"></span>
			</label>
		</div>
		
		<div class="blog-setting-item mt-3">
			<div style="flex: 1;"><i class="fa fa-font"></i>&nbsp;&nbsp;字体</div>
			<div>
				<button id="blog_setting_font_sans_serif" type="button" class="blog-setting-font btn btn-outline-primary blog-setting-selector-left">Sans Serif</button><button id="blog_setting_font_serif" type="button" class="blog-setting-font btn btn-outline-primary blog-setting-selector-right">Serif</button>
			</div>
		</div>
		<div class="blog-setting-item mt-3">
			<div style="flex: 1;"></div>
			<div>
				<button id="blog_setting_font_lxgw_wk" type="button" class="blog-setting-font btn btn-outline-primary blog-setting-selector-left">霞鹜文楷</button><button id="blog_setting_font_myzymyqx" type="button" class="blog-setting-font btn btn-outline-primary blog-setting-selector-single">满眼醉意梦屿千寻</button><button id="blog_setting_font_unifont" type="button" class="blog-setting-font btn btn-outline-primary blog-setting-selector-right">GNU Unifont</button>
			</div>
		</div>
		<div class="blog-setting-item mt-3">
			<div style="flex: 1;"><i class="fa fa-clone"></i>&nbsp;&nbsp;阴影</div>
			<div>
				<button id="blog_setting_shadow_small" type="button" class="blog-setting-shadow btn btn-outline-primary blog-setting-selector-left">浅阴影</button><button id="blog_setting_shadow_big" type="button" class="blog-setting-shadow btn btn-outline-primary blog-setting-selector-right">深阴影</button>
			</div>
		</div>
		<div class="blog-setting-item mt-3 mb-3">
			<div style="flex: 1;"><i class="fa fa-desktop"></i>&nbsp;&nbsp;滤镜</div>
			<div id="blog_setting_filters" class="ml-3">
				<button id="blog_setting_filter_off" type="button" class="blog-setting-filter-btn ml-0" filter-name="off">关闭</button>
				<button id="blog_setting_filter_sunset" type="button" class="blog-setting-filter-btn" filter-name="sunset">日落</button>
				<button id="blog_setting_filter_darkness" type="button" class="blog-setting-filter-btn" filter-name="darkness">暗化</button>
				<button id="blog_setting_filter_grayscale" type="button" class="blog-setting-filter-btn" filter-name="grayscale">灰度</button>
			</div>
		</div>
		<div class="blog-setting-item mb-3">
			<div id="blog_setting_card_radius_to_default" style="cursor: pointer;" tooltip="恢复默认"><i class="fa fa-circle"></i>&nbsp;&nbsp;圆角</div>
			<div style="flex: 1;margin-left: 20px;margin-right: 8px;transform: translateY(2px);">
				<div id="blog_setting_card_radius"></div>
			</div>
		</div>
		
			<div class="blog-setting-item mt-1 mb-3">
				<div style="flex: 1;"><i class="fa fa-eyedropper"></i>&nbsp;&nbsp;主题色</div>
				<div id="theme-color-picker" class="ml-3"></div>
			</div>
		
	</div>
	<button id="fabtn_open_sidebar" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" style="height: 30px !important;" aria-label="Open Sidebar Menu" tooltip="菜单">
		<span class="btn-inner--icon"><i class="fa fa-bars"></i></span>
	</button>
	
	<button id="fabtn_blog_fps" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" aria-hidden="true" style="height: 30px !important;" tooltip="博客帧率 (FPS)">
		<div id="fabtn_fps_progress_bar" style="width: 0%;"></div>
		<span>0</span>
	</button>
	
	<button id="fabtn_reading_progress" class="btn btn-icon btn-neutral fabtn shadow-sm" type="button" aria-hidden="true" tooltip="阅读进度">
		<div id="fabtn_reading_progress_bar" style="width: 0%;"></div>
		<span id="fabtn_reading_progress_details">0%</span>
	</button>
</div>

<div id="content" class="site-content">





<div class="page-information-card-container">
	
</div>


<div id="sidebar_mask"></div>
<aside id="leftbar" class="leftbar widget-area" role="complementary">
		

		<div id="leftbar_part1" class="widget widget_search card bg-white shadow-sm border-0">
			<div class="leftbar-banner card-body">
				<span class="leftbar-banner-title text-white">FantasyLand の 暗梦</span>
				<span class="leftbar-banner-subtitle text-white"><i class="fa fa-pencil"></i>&nbsp;&nbsp;人生如戏，故事如诗。</span>
			</div>
                                

			
                                <ul id='leftbar_part1_menu' class='leftbar-menu'>
                                        <li class='leftbar-menu-item'><a href='/'><i class="fa fa-home"></i> 首页</a></li><li class='leftbar-menu-item'><a href='/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/'><i class="fa fa-code"></i> 技术分享</a></li><li class='leftbar-menu-item'><a href='/categories/%E5%96%B5%E6%98%9F%E4%BD%BF%E8%80%85%E7%9A%84%E8%87%AA%E6%88%91%E4%BF%AE%E5%85%BB/'><i class="fa fa-book"></i> 喵星使者的自我修养</a></li><li class='leftbar-menu-item'><a href='/categories/%E5%A4%A9%E7%A9%BA%E4%B9%8B%E7%90%B4%E4%B9%90%E8%B0%B1%E5%88%86%E4%BA%AB/'><i class="fa fa-music"></i> 天空之琴乐谱分享</a></li><li class='leftbar-menu-item'><a href='/categories/%E6%9A%97%E6%A2%A6-%E3%81%AE-%E9%9A%8F%E5%BF%83%E8%AF%B4'><i class="fa fa-star"></i> 暗梦&nbsp;の&nbsp;随心说</a></li><li class='leftbar-menu-item'><a target="_blank" rel="noopener" href='https://mygame.anmeng.asia'><i class="fa fa-database"></i> 暗梦&nbsp;の&nbsp;自制游戏库</a></li><li class='leftbar-menu-item'><a href='/archives'><i class="fa fa-archive"></i> 都市看客暗梦&nbsp;の&nbsp;归档</a></li>
                                </ul>
                        
                </div>

                <div id="leftbar_part2" class="widget widget_search card bg-white shadow-sm border-0">
                        <div id="leftbar_part2_inner" class="card-body">
                                
                                
                                        <div class="nav-wrapper" id="sidebar_tab" style="padding-top: 5px;">
                                
                        <ul class="nav nav-pills nav-fill" role="tablist">
                                                
                                                        <li class="nav-item sidebar-tab-switcher" id="post-toc-switcher">
                                                                <a class="active show" id="leftbar_tab_catalog_btn" data-toggle="tab" href="#leftbar_tab_catalog" role="tab" aria-controls="leftbar_tab_catalog" no-pjax><i class="fa fa-th-list"></i>&nbsp;&nbsp;文章目录 </a>
                                                        </li>
                                                
                                                <li class="nav-item sidebar-tab-switcher">
                                                        <a class="" id="leftbar_tab_overview_btn" data-toggle="tab" href="#leftbar_tab_overview" role="tab" aria-controls="leftbar_tab_overview" no-pjax><i class="fa fa-id-card-o"></i>&nbsp;&nbsp;站点概览</a>
                                                </li>
                                                
                                                <li class="nav-item sidebar-tab-switcher">
                                                        <a onclick="$('#leftbar_tab_overview').removeClass('show');$('#leftbar_tab_overview').removeClass('active');" class="" id="leftbar_tab_functions_btn" data-toggle="tab" href="#leftbar_tab_functions" role="tab" aria-controls="leftbar_tab_overview" no-pjax><i class="fa fa-wrench"></i>&nbsp;&nbsp;功能</a>
                                                </li>
                                                
                        </ul>
                                </div>
                                <div>
                                        <div class="tab-content" style="padding: 10px 10px 0 10px;">
                                                
                                                        <div class="tab-pane fade active show" id="leftbar_tab_catalog" role="tabpanel" aria-labelledby="leftbar_tab_catalog_btn">
                                                                <div id="leftbar_catalog"></div>

                                                                <script type="text/javascript">
                                                                        var gened_toc = false;
                                                                        $(function () {
                                                                                $(document).headIndex({
                                                                                        articleWrapSelector: '#post_content',
                                                                                        indexBoxSelector: '#leftbar_catalog',
                                                                                        subItemBoxClass: "index-subItem-box",
                                                                                        itemClass: "index-item",
                                                                                        linkClass: "index-link",
                                                                                        offset: 80,
                                                                                });
                                                                                
                                                                                if(document.getElementById("leftbar_catalog").innerHTML == "")
                                                                                {
											//如果文章没有任何目录的话，则不显示文章目录。
                                                                                        gened_toc = false;
                                                                                        document.getElementById("post-toc-switcher").style.display = "none";
                                                                                        
                                                                                        $("#leftbar_tab_catalog_btn").removeClass("active");
                                                                                        $("#leftbar_tab_catalog_btn").removeClass("show");
                                                                                        $("#leftbar_tab_overview").addClass("active");
                                                                                        $("#leftbar_tab_overview").addClass("show");
                                                                                        $("#leftbar_tab_overview_btn").addClass("active");
                                                                                        $("#leftbar_tab_overview_btn").addClass("show");
											$("#leftbar_tab_overview_btn").attr('Aria-selected','true');
                                                                                }else{
                                                                                        gened_toc = true;
                                                                                }
                                                                        })
                                                                </script>
                                                                
                                                        </div>
                                                

                                                <div class="tab-pane fade text-center" id="leftbar_tab_overview" role="tabpanel" aria-labelledby="leftbar_tab_overview_btn">
							<!-- 站点概览页 -->
                                                        <img id="leftbar_overview_author_image" src="/icon.jpg" class="img-fluid rounded-circle shadow-sm" style="width: 100px;" alt="avatar">
							<h6 id="leftbar_overview_author_name">暗梦先生呀~ </h6>
							<p style="font-size:12px;">一枚众神眷恋的都市看客 & 吟游诗人</p>
							<nav class="site-state">
                                                                <div class="site-state-item site-state-posts">
                                                                        <a href="/archives">
                                                                                <span class="site-state-item-count">
                                                                                
                                                                                52
                                                                                </span>
                                                                                <span class="site-state-item-name">文章</span>
                                                                        </a>
                                                                </div>
								<div class="site-state-item site-state-shuoshuo">
									<a href="/shuoshuo">
                                                                                <span class="site-state-item-count">8</span>
                                                                                <span class="site-state-item-name">说说</span>
                                                                	</a>
								</div>
                                                                <div class="site-state-item site-state-categories">
                                                                        <a data-toggle="modal" data-target="#blog_categories">
                                                                                <span class="site-state-item-count">4</span>
                                                                                <span class="site-state-item-name">分类</span>
                                                                        </a>
                                                                </div>      
                                                                <div class="site-state-item site-state-tags">
                                                                        <a data-toggle="modal" data-target="#blog_tags">
                                                                                <span class="site-state-item-count">14</span>
                                                                                <span class="site-state-item-name">标签</span>
                                                                        </a>
                                                                </div>
                                                        </nav>



                                                        
                                                                        <div class="site-author-links">
                                                                                
                                                                                        <div class='site-author-links-item'>
                                                                                                <a href="tencent://message/?uin=1879857489" rel='noopener' target='_blank'><span style="color:#2196F3;"><i class="fa fa-qq"></i></span></a>
                                                                                                <div class="site-author-links-item-tooltip">QQ</div>
                                                                                        </div>
                                                                                
                                                                                        <div class='site-author-links-item'>
                                                                                                <a href="mailto://dreamstar906@126.com" rel='noopener' target='_blank'><span style="color:#FCB44C;"><i class="fa fa-envelope"></i></span></a>
                                                                                                <div class="site-author-links-item-tooltip">E-mail</div>
                                                                                        </div>
                                                                                
                                                                                        <div class='site-author-links-item'>
                                                                                                <a href="https://github.com/LuminousDream/" rel='noopener' target='_blank'><i class="fa fa-github"></i></a>
                                                                                                <div class="site-author-links-item-tooltip">GitHub</div>
                                                                                        </div>
                                                                                
                                                                                        <div class='site-author-links-item'>
                                                                                                <a href="https://keys.openpgp.org/search?q=4C1B5377CDF813F3E0771E829CC6C2CEC729058D" rel='noopener' target='_blank'><span style="color:#82ABBF;"><i class="fa fa-key"></i></span></a>
                                                                                                <div class="site-author-links-item-tooltip">OpenPGP &amp; GnuPG 公钥</div>
                                                                                        </div>
                                                                                
                                                                                        <div class='site-author-links-item'>
                                                                                                <a href="/atom.xml" rel='noopener' target='_blank'><span style="color:#FF9700;"><i class="fa fa-rss"></i></span></a>
                                                                                                <div class="site-author-links-item-tooltip">RSS</div>
                                                                                        </div>
                                                                                
                                                                                        <div class='site-author-links-item'>
                                                                                                <a href="/atom_shuoshuo.xml" rel='noopener' target='_blank'><span style="color:#F05B85;"><i class="fa fa-rss"></i></span></a>
                                                                                                <div class="site-author-links-item-tooltip">说说 RSS</div>
                                                                                        </div>
                                                                                
                                                                        </div>
                                                                
                                                        
                                                                        <div style="height: 20px;"></div>
                                                                
                                                    </div>

                                                        
                                                        <div class="tab-pane fade" id="leftbar_tab_functions" role="tabpanel" aria-labelledby="leftbar_tab_functions_btn">
								<h6 class="font-weight-bold text-black"><i class="fa fa-clock-o"></i>&nbsp;Time Travel Machine</h6>
									<div id="roman_clock"></div>
                                                                        <script>init_darkdream_roman_clock("#roman_clock");</script>
									<i class="fa fa-calendar-o"></i>&nbsp;<span style="font-size:12px;" id="solar_calendar_label"></span>									<p><i class="fa fa-calendar"></i>&nbsp;<span style="font-size:12px;" id="lunar_calendar_label"></span></p>

									<div class="progress-wrapper" style="padding:0;">
										<div class="progress-info">
											<div class="progress-label">
												<span id="yearprogress_yearname"></span>
											</div>
											<div id="yearprogress_text_container" class="progress-percentage">
												<span id="yearprogress_progresstext">42.34%</span>
												<span id="yearprogress_progresstext_full"></span>
											</div>
										</div>
										<div class="progress">
											<div id="yearprogress_progressbar" class="progress-bar bg-primary" style=""></div>
										</div>
									</div>
									<script>
									var lunar = calendar.solar2lunar();
									var timer_started = false;
									if (timer_started == false) {
									    document.getElementById("solar_calendar_label").innerHTML="公历 "+lunar.cYear+" 年 "+lunar.cMonth+" 月 "+lunar.cDay+" 号 ["+lunar.astro+"]";
									    document.getElementById("lunar_calendar_label").innerHTML="农历 "+lunar.lYear+" ["+lunar.Animal+"] 年 "+lunar.IMonthCn+lunar.IDayCn;
									    timer_started=true;
									}
								</script><br>
								<h6 class="font-weight-bold text-black"><i class="fa fa-pencil"></i>&nbsp;最新文章 & 说说</h6>
								
									
										<p><span class="badge badge-primary" id="shuoshuo_label"><i class="fa fa-quote-left"></i> 说说 </span>&nbsp;<a href="/shuoshuo/87899d1/">心有 “渔” 力不足的都市看客兼吟游诗人</a><br><span class="post_meta_info"><i class="fa fa-clock-o"></i> 2024-8-7</span></p>	
									
								
									
										<p><a href="/bdcdc9f9/">一枚 2024 暑期解谜游戏 · 远坂凛给你的一封祝福信</a><br><span class="post_meta_info"><i class="fa fa-clock-o"></i> 2024-7-6</span></p>	
									
								
									
										<p><span class="badge badge-primary" id="shuoshuo_label"><i class="fa fa-quote-left"></i> 说说 </span>&nbsp;<a href="/shuoshuo/609e4e76/">都市看客暗梦 の 在龙舟之章 · 端午前的随笔</a><br><span class="post_meta_info"><i class="fa fa-clock-o"></i> 2024-6-9</span></p>	
									
								
									
										<p><a href="/cad9d0fd/">Re. 从零开始在 Deta Space 部署 Twikoo 评论系统的过程</a><br><span class="post_meta_info"><i class="fa fa-clock-o"></i> 2024-6-2</span></p>	
									
								
									
										<p><a href="/27fff63c/">「随心说」都市看客暗梦 の 浅谈不应依赖的答案之书</a><br><span class="post_meta_info"><i class="fa fa-clock-o"></i> 2024-5-3</span></p>	
									
								
								<h6 class="font-weight-bold text-black"><i class="fa fa-tags"></i>&nbsp;标签云</h6>	
								<p></p><div class="tagcloud">
								<a class="badge badge-secondary tag" href="/tags/Hackintosh/" rel="tag">Hackintosh <span class="tag-num">3</span></a><a class="badge badge-secondary tag" href="/tags/Hexo/" rel="tag">Hexo <span class="tag-num">3</span></a><a class="badge badge-secondary tag" href="/tags/Linux/" rel="tag">Linux <span class="tag-num">7</span></a><a class="badge badge-secondary tag" href="/tags/MySQL/" rel="tag">MySQL <span class="tag-num">1</span></a><a class="badge badge-secondary tag" href="/tags/Python/" rel="tag">Python <span class="tag-num">2</span></a><a class="badge badge-secondary tag" href="/tags/RPG-MAKER/" rel="tag">RPG MAKER <span class="tag-num">1</span></a><a class="badge badge-secondary tag" href="/tags/Typecho/" rel="tag">Typecho <span class="tag-num">3</span></a><a class="badge badge-secondary tag" href="/tags/WordPress/" rel="tag">WordPress <span class="tag-num">3</span></a><a class="badge badge-secondary tag" href="/tags/%E5%96%B5%E6%98%9F%E4%BA%BA/" rel="tag">喵星人 <span class="tag-num">8</span></a><a class="badge badge-secondary tag" href="/tags/%E6%9A%97%E6%A2%A6%E7%9A%84%E5%A4%A9%E7%A9%BA%E4%B9%8B%E7%90%B4/" rel="tag">暗梦的天空之琴 <span class="tag-num">4</span></a><a class="badge badge-secondary tag" href="/tags/%E6%B2%BB%E6%84%88%E5%BF%83%E7%81%B5/" rel="tag">治愈心灵 <span class="tag-num">10</span></a><a class="badge badge-secondary tag" href="/tags/%E7%94%B5%E5%AD%90%E6%B8%B8%E6%88%8F/" rel="tag">电子游戏 <span class="tag-num">2</span></a><a class="badge badge-secondary tag" href="/tags/%E9%92%A2%E7%90%B4%E7%AE%80%E8%B0%B1/" rel="tag">钢琴简谱 <span class="tag-num">4</span></a><a class="badge badge-secondary tag" href="/tags/%E9%9A%8F%E5%BF%83%E8%AF%B4/" rel="tag">随心说 <span class="tag-num">27</span></a>
								<h6 class="font-weight-bold text-black"><i class="fa fa-info"></i>&nbsp;FantasyLand Status</h6>
								
								
								<label id="blog-post-and-shuoshuo-count">文章 & 说说数目： 52 / 8</label>
								<label id="blog-total-wordcount">博客总字数：64.7k 字</label>
								<label id="blog-last-updated">最近更新时间：2024-08-07</label>

								</div>							
							</div>
                                                        
                                        </div>
                                </div>
                        </div>
                </div>
</aside>



<div class="modal fade" id="blog_categories" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content" id="categories_dialog_content">
                        <div class="modal-header">
                                <h5 class="modal-title">分类</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                </button>
                        </div>
                        <div class="modal-body">
                                <a class="badge badge-secondary tag" href="/categories/%E5%96%B5%E6%98%9F%E4%BD%BF%E8%80%85%E7%9A%84%E8%87%AA%E6%88%91%E4%BF%AE%E5%85%BB/" rel="tag">喵星使者的自我修养 <span class="tag-num">8</span></a><a class="badge badge-secondary tag" href="/categories/%E5%A4%A9%E7%A9%BA%E4%B9%8B%E7%90%B4%E4%B9%90%E8%B0%B1%E5%88%86%E4%BA%AB/" rel="tag">天空之琴乐谱分享 <span class="tag-num">4</span></a><a class="badge badge-secondary tag" href="/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/" rel="tag">技术分享 <span class="tag-num">22</span></a><a class="badge badge-secondary tag" href="/categories/%E6%9A%97%E6%A2%A6-%E3%81%AE-%E9%9A%8F%E5%BF%83%E8%AF%B4/" rel="tag">暗梦 の 随心说 <span class="tag-num">27</span></a>
                        </div>
                </div>
        </div>
</div>
<div class="modal fade" id="blog_tags" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content" id="tagcloud_dialog_content">
                        <div class="modal-header">
                                <h5 class="modal-title">标签</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                </button>
                        </div>
                        <div class="modal-body">
                                <a class="badge badge-secondary tag" href="/tags/Hackintosh/" rel="tag">Hackintosh <span class="tag-num">3</span></a><a class="badge badge-secondary tag" href="/tags/Hexo/" rel="tag">Hexo <span class="tag-num">3</span></a><a class="badge badge-secondary tag" href="/tags/Linux/" rel="tag">Linux <span class="tag-num">7</span></a><a class="badge badge-secondary tag" href="/tags/MySQL/" rel="tag">MySQL <span class="tag-num">1</span></a><a class="badge badge-secondary tag" href="/tags/Python/" rel="tag">Python <span class="tag-num">2</span></a><a class="badge badge-secondary tag" href="/tags/RPG-MAKER/" rel="tag">RPG MAKER <span class="tag-num">1</span></a><a class="badge badge-secondary tag" href="/tags/Typecho/" rel="tag">Typecho <span class="tag-num">3</span></a><a class="badge badge-secondary tag" href="/tags/WordPress/" rel="tag">WordPress <span class="tag-num">3</span></a><a class="badge badge-secondary tag" href="/tags/%E5%96%B5%E6%98%9F%E4%BA%BA/" rel="tag">喵星人 <span class="tag-num">8</span></a><a class="badge badge-secondary tag" href="/tags/%E6%9A%97%E6%A2%A6%E7%9A%84%E5%A4%A9%E7%A9%BA%E4%B9%8B%E7%90%B4/" rel="tag">暗梦的天空之琴 <span class="tag-num">4</span></a><a class="badge badge-secondary tag" href="/tags/%E6%B2%BB%E6%84%88%E5%BF%83%E7%81%B5/" rel="tag">治愈心灵 <span class="tag-num">10</span></a><a class="badge badge-secondary tag" href="/tags/%E7%94%B5%E5%AD%90%E6%B8%B8%E6%88%8F/" rel="tag">电子游戏 <span class="tag-num">2</span></a><a class="badge badge-secondary tag" href="/tags/%E9%92%A2%E7%90%B4%E7%AE%80%E8%B0%B1/" rel="tag">钢琴简谱 <span class="tag-num">4</span></a><a class="badge badge-secondary tag" href="/tags/%E9%9A%8F%E5%BF%83%E8%AF%B4/" rel="tag">随心说 <span class="tag-num">27</span></a>
                        </div>
                </div>
        </div>
</div>


<div id="primary" class="content-area">
	<main id="main" class="site-main article-list article-list-home" role="main">
		
		
			
	
		<article class="post post-full card bg-white shadow-sm border-0 post-preview">
	<header class="post-header text-center">
		
		<a class="post-title" id="post-title"></a>
		<script>
	  		var typed1 = new Typed('#post-title', {
			    "strings":['如何给你的 Typecho / Hexo 文章添加短代码支持'],"typeSpeed":70,"loop":false,"showCursor":false
			  });
		</script>
		<div class="post-meta">
			<div class="post-meta-detail">
				<i class="fa fa-user" aria-hidden="true"></i> <font>暗梦先生呀~</font> <div class="post-meta-devide">|</div>
			</div>
			
						
						<div class="post-meta-detail post-meta-detail-time">
							<i class="fa fa-clock-o" aria-hidden="true"></i>
							<time id="post_date">2022-11-14
							</time>
						</div>
					
						
							<div class="post-meta-devide">|</div>
						
						<div class="post-meta-detail post-meta-detail-categories">
							<i class="fa fa-bookmark-o" aria-hidden="true"></i>
							<a class="post-meta-detail-catagory-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/">技术分享</a>
						</div>
					
					
						
							<div class="post-meta-devide">|</div>
						
						<div class="post-meta-detail post-meta-detail-words">
							<i class="fa fa-file-word-o" aria-hidden="true"></i>
							1.2k 字
						</div>
					
						
							<div class="post-meta-devide">|</div>
						
						<div class="post-meta-detail post-meta-detail-readingtime">
							<i class="fa fa-hourglass-end" aria-hidden="true"></i>
							预计阅读时间 4 分钟
						</div>
					
						
                     			
		</div>
		
	</header>

	<div class="post-content" id="post_content">
	    <h3 id="I-Typecho-文章添加短代码支持"><a href="#I-Typecho-文章添加短代码支持" class="headerlink" title="I.Typecho 文章添加短代码支持"></a>I.Typecho 文章添加短代码支持</h3><p>在之前使用 WordPress 的时候我们习惯于使用短代码来表示一段文字的重点，但是自从没有了 WordPress 的那些短代码插件或者自带短代码功能的插件之后，到了 Typecho 却变得有点不适应，无妨，暗梦我来讲讲如何让你的Typecho文章也支持短代码。</p>
<p>首先我们还是打开你博客的主题根目录，在 functions.php 添加下列代码，各位旅行者可以参考下。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">function</span> <span class="token function-definition function">myshortcode</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
  <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token string double-quoted-string">""</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strstr</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"[你指定的短代码1]"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"[你指定的短代码1]"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"&lt;你要设置的HTML标签开头>"</span><span class="token punctuation">,</span><span class="token variable">$text</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"[/你指定的短代码1]"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"&lt;/你要设置的HTML标签末尾>"</span><span class="token punctuation">,</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strstr</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"[你指定的短代码2]"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"[你指定的短代码2]"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"&lt;你要设置的HTML标签开头>"</span><span class="token punctuation">,</span><span class="token variable">$text</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"[/你指定的短代码2]"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"&lt;/你要设置的HTML标签末尾>"</span><span class="token punctuation">,</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token operator">...</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strstr</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"[你指定的短代码n]"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"[你指定的短代码n]"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"&lt;你要设置的HTML标签开头>"</span><span class="token punctuation">,</span><span class="token variable">$text</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"[/你指定的短代码n]"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"&lt;/你要设置的HTML标签末尾>"</span><span class="token punctuation">,</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>然后再打开 post.php 修改这一行代码即可。</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">//<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token variable">$this</span><span class="token operator">-></span><span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span> 这里是原来的代码段
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token function">myshortcode</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">context</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span> //修改为这一段代码即可<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="II-Hexo-文章添加短代码支持"><a href="#II-Hexo-文章添加短代码支持" class="headerlink" title="II.Hexo 文章添加短代码支持"></a>II.Hexo 文章添加短代码支持</h3><p>那么有旅行者会问暗梦我关于 Hexo 博客如何添加短代码，em …… ，暗梦我这么说吧<br>它和 WordPress 的短代码不同，比方说：</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">在 WordPress 的短代码：
[blockquote]
暗梦我是一名都市看客 &amp; 吟游诗人，虽然没钱买域名和服务器，但不论如何，依旧在为自己的幻想之地，也就是为我的博客增添色彩，也是为旅行者们带来快乐。
[/blockquote]

在 Hexo 的短代码：
&#123;% blockquote %&#125;
暗梦我是一名都市看客 &amp; 吟游诗人，虽然没钱买域名和服务器，但不论如何，依旧在为自己的幻想之地，也就是为我的博客增添色彩，也是为旅行者们带来快乐。
&#123;% endblockquote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这段短代码的渲染结果如下：</p>
<blockquote><p>暗梦我是一名都市看客 &amp; 吟游诗人，虽然没钱买域名和服务器，但不论如何，依旧在为自己的幻想之地，也就是为我的博客增添色彩，也是为旅行者们带来快乐。</p>
</blockquote>
<p>那如果你想指定自己的短代码呢，诶嘿，首先我们需要在主题的 scripts 文件夹里面新建 shortcode.js 文件，添加下列代码：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">note</span> <span class="token punctuation">(</span><span class="token parameter">args<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class="alert alert-primary">
	    &lt;span class="alert-inner--text"></span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> content <span class="token operator">+</span> 
	    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/span>&lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>tag<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'note'</span><span class="token punctuation">,</span> note<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">ends</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 那么这个短代码参数设定好之后，就可以使用啦 ( =^_^= )~
比如上面名为 “note” 的短代码，用法是这样的 ......

&#123;% note %&#125;
暗梦我是一名都市看客 &amp; 吟游诗人，虽然没钱买域名和服务器，但不论如何，依旧在为自己的幻想之地，也就是为我的博客增添色彩，也是为旅行者们带来快乐。
&#123;% endnote %&#125;

在文章上写好之后，就可以使用 hexo s 查看效果啦~，以下是渲染结果。 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<div class="alert alert-primary"><span class="alert-inner--text">暗梦我是一名都市看客 & 吟游诗人，虽然没钱买域名和服务器，但不论如何，依旧在为自己的幻想之地，也就是为我的博客增添色彩，也是为旅行者们带来快乐。</span></div>

<p>当然，旅行者们也可以参考以下格式自定义自己的短代码：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">
<span class="token comment">/*
   content: 短代码里面的文本内容
   args[n]: 短代码标签内的参数
*/</span>
<span class="token keyword">function</span> <span class="token function">函数名</span> <span class="token punctuation">(</span><span class="token parameter">args<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;h6></span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">:</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/h6>
	    &lt;p></span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> content <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/p></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// 各位旅行者们也可以自定义 return 里面的 HTML 代码</span>
<span class="token punctuation">&#125;</span>

hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>tag<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'短代码名称'</span><span class="token punctuation">,</span> 函数名<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">ends</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 用法是这样的：

&#123;% 短代码名称 [短代码标签参数1] [短代码标签参数2] %&#125;
em.......
暗梦作为一名都市看客 &amp; 吟游诗人，我不只是在写博客，而且还有一只黑猫陪伴在暗梦我的身边，也许吧，有一只猫猫陪伴着暗梦我也挺开心哒。
&#123;% end短代码名称 %&#125;

*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>最后各位旅行者们可以自己对照一下 Hexo 官方文档中的 <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/tag-plugins">标签插件</a> &amp; <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/api/tag">标签插件(API)</a> 来自定义想要的短代码效果，愿旅行者们快快乐乐地生活，永远保持开心和积极的心态哈，诶嘿~</p>

	</div>

	

	

	
		<div class="post-tags">
			<i class="fa fa-tags" aria-hidden="true"></i>
			<a class="tag badge badge-secondary post-meta-detail-tag -none-link" href="/tags/Hexo/" rel="tag">Hexo</a><a class="tag badge badge-secondary post-meta-detail-tag -none-link" href="/tags/Typecho/" rel="tag">Typecho</a>
		</div>
	
</article>
	
	
<div class="card" id="cc_info">
<br>
<div id="cc_post_title" style="margin-left:20px;"><strong>如何给你的 Typecho / Hexo 文章添加短代码支持</strong></div>
<div id="cc_post_link" style="margin-left:20px;font-size:14px;"><i class="fa fa-link"></i> <a id="localurl"></a></div>
<div id="cc_post_info" style="margin-left:20px;font-size:14px;"><i class="fa fa-flag"></i> 商业转载请联系作者获得授权，非商业转载请注明出处，转载请注明来自 <a href="/">FantasyLand の 暗梦</a>！</div>

<br>
<table style="margin-left:20px;word-wrap: normal;" id="cc_post_table">
<tr><td style="font-size:14px;"><i class="fa fa-user"></i> 作者</td><td style="font-size:14px;"><i class="fa fa-clock-o"></i> 发布于</td><td style="font-size:14px;"><i class="fa fa-copy"></i> 许可协议</td></tr>
<tr><td>暗梦先生呀~ </td>
<td>2022-11-14</td>
<td><a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" id="cc_link" title="署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) " ><i class="fa fa-creative-commons"></i> CC BY-NC-SA 4.0</a></td></tr>
</table>
<br>
</div>


<script>
	document.querySelector("#localurl").innerHTML = window.location.href;
	document.querySelector("#localurl").href = window.location.href;
</script>
<br>




	
<div id="post_comment" class="card shadow-sm" style="opacity: 0.87;padding:30px 30px;padding-bottom: 35px;">
<h2 class="comments-title" style="margin-bottom:20px;"><i class="fa fa-comments"></i>评论</h2>
<div class="mdui-progress">
	<div class="mdui-progress-indeterminate mdui-follow-argon-color"></div>
</div>
<div class="post-outdated-info"><i class="fa fa-info-circle" aria-hidden="true"></i>
Tip: 评论前请先查看<a onclick="comment_info();" class="comment_info_button"> 《本站评论特别声明》 </a> ，且所有评论均需审核后才能显示，谢谢~<br>
</div>


		<div id="twikoo_comments"></div>
<script>
  var blog_comment_object = twikoo.init({
				envId: "https://twikoo.anmeng.asia",
  				el: '#twikoo_comments',
  				lang: 'zh-CN',
				onCommentLoaded: function () {
    			document.querySelectorAll('#twikoo a').forEach(function(aEl){
      				if(!aEl.href.startsWith(window.location.origin) && !aEl.href.startsWith("https://anmeng.asia")){
        				aEl.href='/go/?url='+encodeURI(aEl.href.replace(/\/$/, ''));
      				}
    			});
  				}
})
</script>

	</div>



	



<div class="post-navigation card shadow-sm"><div class="post-navigation-item post-navigation-pre"><span style="color:gray;font-size:12px;">Previous</span><span class="page-navigation-extra-text"><i class="fa fa-arrow-circle-o-left" aria-hidden="true"></i>上一篇</span><a href="/9a107844/" rel="prev"> 「随心说」浅谈一下关于黑猫的那些八卦事</a></div><div class="post-navigation-item post-navigation-next"><span style="color:gray;font-size:12px;">Next</span><span class="page-navigation-extra-text">下一篇 <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i></span><a href="/29a55fff/" rel="next"> <font color="#F05B85"><i class="fa fa-star"></i>&nbsp;&nbsp;「随心说 の 真 · 喵星使者的自我修养」 从零开始的新手养猫教程&nbsp;&nbsp;<i class="fa fa-star"></i></font></a></div></div>





		
		
		
		
					<footer id="footer" class="site-footer card shadow-sm border-0">
						<font id="footer_copyright">CopyRight © 2021 暗梦先生呀~ All Rights Reserved.</font>
						<div>Theme <a target="_blank" rel="noopener" href="https://github.com/solstice23/hexo-theme-argon"><strong>Argon</strong></a> By solstice23 | Powered by <a target="_blank" rel="noopener" href="https://hexo.io"><strong>Hexo</strong></a> | 
							<a onclick='changetime();' id='datetime' style="font-size:15px;" class='serif'>
								</a>
								<a id='fantasy_time_help'></a>
								<script>
								var sw = 0;
								var zqhelp=0;
								</script>
								<script type="text/javascript">
								function time_help()
								{
								switch(zqhelp)
								{
								
								case 0:
								swal("关于鸥历的历法[1/3]","鸥历是在奥利恩斯世界通用的时间\n例如：鸥历842年为公历2011年(因为那是游戏的发布的那一年，剧情全部走完了)\n所以它的元年为1169年\n【另外，鸥历和公历的24小时制(24小时一天)不同，它一天则为12小时制(12小时一天)】","info");
								zqhelp=zqhelp+1;
								break;
								
								case 1:
								swal("关于鸥历的历法[2/3]","鸥历月份换算表：\n1月份  火之月 ｜7月份 土之月\n2月份 水之月｜8月份 岚之月\n3月份 岩之月｜9月份 热之月\n4月份 风之月｜10月份 冷之月\n5月份 炎之月｜11月份 岩之月\n6月份 冰之月｜12月份 空之月","info");
								zqhelp=zqhelp+1;
								break;
								
								case 2:
								swal("关于鸥历的历法[3/3]","\n\n该历法来源于PSP游戏《最终幻想·零式》，如有雷同纯属巧合","info",{buttons: {
								button1:
								{
								text: "Get In RomsFun!",
								value:"get"
								},
								button2:
								{
								text: "了解游戏剧情",
								value:"info"
								},
								button3:
								{
								text: "OK",
								value:"ok"
								},
								
								},}).then(function(value){
								if(value == "get"){
								  window.open("https://romsfun.com/roms/playstation-portable/final-fantasy-reishiki.html");
								}
								else if(value == "info"){
								  window.open("http://www.k73.com/psp/39029.html");
								}
								});
								zqhelp=0;
								break;
								
								}
								
								}
								function changetime()
								{
								if(sw == 0)
								{
								document.getElementById("datetime").innerHTML = pangu.spacing(Fantasy_Now());
								document.getElementById("fantasy_time_help").innerHTML = "<a onclick='time_help();' id='fantasy_time_help' style='font-size:15px;' class='serif'> [说明] </a>";
								sw=1;
								}else
								{
								document.getElementById("datetime").innerHTML = pangu.spacing(Real_Now());
								document.getElementById("fantasy_time_help").innerHTML = "";
								
								sw=0;
								}
								}
								
								document.getElementById("datetime").innerHTML = pangu.spacing(Real_Now());
								document.getElementById("fantasy_time_help").innerHTML = "";

								</script>
						</a>
						</div>

					</footer>
				</main>
			</div>
		</div>

		<script>
		document.body.addEventListener('copy', function (e) {
 		   if (window.getSelection().toString() && window.getSelection().toString().length > 10) {
   		     setClipboardText(e);
  		  }
		}); 

		function setClipboardText(event) {
			var clipboardData = event.clipboardData || window.clipboardData;
			if (clipboardData) {
				event.preventDefault();
				var htmlData = ''
					+ '*-----------------------------------------------------------------------*<br>'
					+ '# 商业转载请联系作者获得授权，非商业转载请注明出处<br>'
					+ '# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.<br>'
					+ '# 协议(License)：署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)<br>'
					+ '# 作者(Author)：暗梦先生呀~ <br>'
					+ '# 链接(URL)：' + window.location.href + '<br>'
					+ '# 来源(Source)： '+ window.location.hostname +' <br>'
					+ '*-----------------------------------------------------------------------*<br><br>'
					+ window.getSelection().toString();
				var textData = ''
					+ '*-----------------------------------------------------------------------*\n'
					+ '# 商业转载请联系作者获得授权，非商业转载请注明出处\n'
					+ '# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.\n'
					+ '# 协议(License)：署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)\n'
					+ '# 作者(Author)：暗梦先生呀~ \n'
					+ '# 链接(URL)：' + window.location.href + '\n'
					+ '# 来源(Source)： '+ window.location.hostname +' \n'
					+ '*-----------------------------------------------------------------------*\n\n'
					+ window.getSelection().toString();
				  clipboardData.setData('text/html', htmlData);
				  clipboardData.setData('text/plain',textData);
				  mdui.snackbar({message: '<strong>Copied!</strong><br><i>tip:请尊重原创文章，非商业转载请注明出处。</i><br>作者(Author)：暗梦先生呀~ ',position: 'right-top'});
			}
		}

		if (window.location.hostname === "anmeng.eu.org") {
		  checkblogpush_and_print_lastmessage();
		}
		
		</script>
		
<script src="/argontheme.js"></script>

		
		
		

		
			<script>
				var argonEnableCodeHighlight = true;
			</script>
			
<link rel="stylesheet" href="/assets/vendor/highlight/styles/vs2015_anmeng.css">

		

	</div>
</div>
<noscript>
	<style>
		article img.lazyload[src^="data:image/svg+xml;base64,PCEtLUFyZ29uTG9hZGluZy0tPg"]{display: none;}
		.comment-item-text .comment-sticker.lazyload{display: none;}
	</style>
</noscript>
</body>





<div class="blog_musicbox_control no-pjax" style="z-index:100000;position:relative;">
<div id="aplayer" class="blog_musicbox no-pjax hidden" style="display:none;"></div>
</div>

<script no-pjax>
try {
var metingapi_url="https://api.injahow.cn/meting/?server=netease&type=song&id=";
var songid_data = ['531253053','687506','33682739','22636640','447303772','1942909267','1404596131','520242026','29017078','34613438','1928521973','1458664808','1915699293','1915700989','191252','537787665','1500439504']

const ap = new APlayer({
    container: document.getElementById('aplayer'),
	fixed: false,
	lrcType: 3,
	order: 'list',
	preload: 'none',
	theme: '#F05B85',
	listFolded: true
});

songid_data.forEach((item) => {
fetch(metingapi_url+item)
  .then(function(response) {
      var temp_songdata = [];
      temp_songdata.push(response.json())
      Promise.all(temp_songdata).then(function(results) {
      for (i = 0 ;i < results.length;i++)
	{
	    ap.list.add({
   	      name: results[i][0].name,
   	      artist: results[i][0].artist,
  	      url: results[i][0].url,
   	      cover: results[i][0].pic,
   	      lrc: results[i][0].lrc,
	      theme: '#ebd0c2'
	    });
	}
    });
  })
});

if ($("#float_action_buttons").hasClass("fabtns-float-left")){
	$("#aplayer").addClass("align-left");
}
$("#aplayer").addClass("mdui-shadow-6");
}catch(err){}
</script>

</html>
<!-- 随机文章功能 -->
             <script>
              var posts=["3d8e3836/","29682406/","6c7cded/","583256b2/","4dfc8d36/","80a705f8/","9edfc8c7/","c3464ddc/","f9910d43/","3c3f650c/","6958ef11/","3b42a900/","efdb30fe/","81c40aed/","5d5eb4fd/","2493498c/","d5bff76b/","3da5ba11/","9f498195/","9a15a626/","cad9d0fd/","78c6ea47/","fa038589/","41b04205/","b7b7087/","27fff63c/","536096c0/","12ebe1b0/","2c9586b5/","c34131c8/","60bb5b1a/","bdcdc9f9/","740c95d7/","c1e42d95/","153650c/","ed2ab52c/","8020d73a/","db0daa9f/","536e38d0/","29a55fff/","be102642/","83a98f88/","9e353a30/","e1cfb062/","42cc5bb9/","9a107844/","7f22a087/","3f5e9913/","afea83d/","5132bf84/","8f034b5/","1d7969b6/"];
	      posts.splice(posts.indexOf(/shuoshuo/g),1)
             function toRandomPost() {
               $.pjax({
         　　    url: '/'+posts[Math.floor(Math.random() * posts.length)]
                })
              }</script>
    